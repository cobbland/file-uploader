<%- include('header'); -%>

    <h1><%= title %></h1>

    <p>View and manage your files and folders.</p>

    <% if (locals.folder) { %>
        <h2><%= folder.name %></h2>
        <form action="/files/<%= folder.id %>/edit-folder" method="post">
            <input type="submit" value="Edit Folder">
        </form>
        <form action="/files/<%= folder.id %>/delete-folder" method="post">
            <input type="submit" value="Delete Folder">
        </form>
    <% } %>

    <% if (locals.folders) { %>
        <ul id="folders">
            <% folders.forEach(folder => { %>
                <li><a href="/files/<%= folder.id %>"><%= folder.name %></a></li>
            <% }) %>
        </ul>
    <% } %>

    <% if (locals.files) { %>
        <ul id="files">
            <% folders.forEach(folder => { %>
                <li><a href="/files/<%= folder.id %>/<%= file.id %>"><%= files.name %></a></li>
            <% }) %>
        </ul>
    <% } %>

    <% if (locals.folder) { %>
        <p>Upload a file here.</p>

        <form action="/files/upload-file" method="post" enctype="multipart/form-data">
            <input type="text" name="folder" id="folder" value="<%= folder.id %>" style="display: none;">
            <label for="file">Upload a file</label>
            <input type="file" name="file" id="file">
            <input type="submit" value="Upload">
        </form>
    <% } %>

    <p>Create folder here.</p>
    <form action="/files/create-folder" method="post">
        <% if (locals.folder) { %>
            <input type="text" name="folder" id="folder" value="<%= locals.folder.id %>" style="display: none;">
        <% } else { %>
            <input type="text" name="folder" id="folder" style="display: none;">
        <% } %>
        <label for="newFolder">Folder Name</label>
        <input type="text" name="newFolder" id="newFolder" placeholder="New Folder">
        <input type="submit" value="Create">
    </form>

    <p>Return <a href="/">home</a>.</p>
    
<%- include('footer'); -%>